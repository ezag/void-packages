# Template file for 'e4thcom'
pkgname=e4thcom
version=0.8.2
revision=1
short_desc="Terminal for Embedded Forth Systems"
maintainer="Eugen Zagorodniy <e.zagorodniy@gmail.com>"
license=GPL-3.0-or-later
homepage=https://wiki.forth-ev.de/doku.php/en:projects:e4thcom
distfiles=https://wiki.forth-ev.de/lib/exe/fetch.php/projects:$pkgname:$pkgname-$version-64.tar.gz
checksum=7bbc329c3d24c3c05b836e5f11e8a97a53ede842846ede85d099e48a43e301f9

do_build() {
	cd src
	case $XBPS_MACHINE in *64*) ostype=64 ;; *) ostype=32 ; esac
	./lxmake $ostype
}

do_install() {
	vmkdir usr/lib/$pkgname
	vinstall $pkgname 755 usr/lib/$pkgname
	vinstall $pkgname.i 644 usr/lib/$pkgname
	vcopy "*.ef[crx]" usr/lib/$pkgname
	vbin $FILESDIR/$pkgname
	vdoc doc/$pkgname-$version.pdf
}
